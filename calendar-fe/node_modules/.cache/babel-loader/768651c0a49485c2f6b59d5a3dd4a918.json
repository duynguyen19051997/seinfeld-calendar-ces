{"ast":null,"code":"var _jsxFileName = \"/home/duynguyen/store/seinfeld-calendar-fe/src/Component/Header-Menu/NewHabit/NewHabit.js\";\nimport React, { Component } from \"react\";\nimport \"./NewHabit.css\";\nimport moment from \"moment\";\nimport Switch from \"react-switch\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, ButtonGroup, Button, Alert } from \"reactstrap\";\nimport LabelInput from \"../../Labelnput/LabelInput\";\nimport Axios from \"axios\";\n\nclass NewHabit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      onClose: false,\n      date: new Date(),\n      cSelected: [],\n      name: \"\",\n      slogan: \"\",\n      datestart: \"\",\n      datefinish: \"\",\n      after: \"\",\n      color: \"\",\n      message: \"\",\n      colorError: \"\",\n      checked: false\n    };\n    this.onCloseHandler = this.onCloseHandler.bind(this);\n    this.onCheckboxBtnClick = this.onCheckboxBtnClick.bind(this);\n    this.submitHabit = this.submitHabit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.checkAll = this.checkAll.bind(this);\n    this.validateDay = this.validateDay.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  validateDay() {\n    const currentDay = new Date();\n    const startDay = new Date(this.state.datestart);\n    const endDay = new Date(this.state.datefinish);\n\n    if (moment(startDay).format(\"L\").toString() < moment(currentDay).format(\"L\").toString()) {\n      return false;\n    }\n\n    if (moment(endDay).format(\"L\").toString() < moment(startDay).format(\"L\").toString()) {\n      return false;\n    }\n\n    return true;\n  }\n\n  submitHabit() {\n    if (!this.validateDay()) {\n      this.setState({\n        colorError: \"danger\",\n        message: \"Timestart must be current day or a day in future\"\n      });\n      return;\n    }\n\n    let object = {\n      idUser: localStorage.getItem(\"Token\"),\n      name: this.state.name,\n      slogan: this.state.slogan,\n      timeBegin: this.state.datestart,\n      timeEnd: this.state.datefinish,\n      after: this.state.after,\n      repeat: this.state.cSelected,\n      color: this.state.color\n    };\n    Axios.post(\"http://localhost:3005/habit/create\", object, {\n      headers: {\n        \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"Token\"))\n      }\n    }).then(response => {\n      this.setState({\n        colorError: \"primary\",\n        message: response.data.message\n      });\n      this.props.closeform(this.state.onClose);\n    }).catch(() => {\n      this.setState({\n        colorError: \"danger\",\n        message: \"Sign up Fail !\"\n      });\n    });\n  }\n\n  onCheckboxBtnClick(selected) {\n    const index = this.state.cSelected.indexOf(selected);\n\n    if (index < 0) {\n      this.state.cSelected.push(selected);\n    } else {\n      this.state.cSelected.splice(index, 1);\n    }\n\n    this.setState({\n      cSelected: [...this.state.cSelected]\n    });\n\n    if (this.state.cSelected.length === 7) {\n      this.setState({\n        checked: true\n      });\n    } else {\n      this.setState({\n        checked: false\n      });\n    }\n  }\n\n  onCloseHandler() {\n    this.props.closeform(this.state.onClose);\n  }\n\n  checkAll(checked) {\n    this.setState({\n      checked\n    });\n\n    if (checked) {\n      this.setState({\n        cSelected: [2, 3, 4, 5, 6, 7, 8]\n      });\n    } else {\n      this.setState({\n        cSelected: []\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(Modal, {\n      isOpen: this.props.showform,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      id: \"create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"CREATE NEW HABIT\"), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \"myform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(LabelInput, {\n      label: \"Name\",\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(LabelInput, {\n      label: \"Slogan\",\n      type: \"text\",\n      id: \"slogan\",\n      name: \"slogan\",\n      onChange: this.handleInputChange,\n      value: this.state.slogan,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Label, {\n      xs: \"6\",\n      id: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Start Day\"), React.createElement(Label, {\n      xs: \"6\",\n      id: \"color-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Color\"), React.createElement(Label, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(LabelInput, {\n      type: \"date\",\n      name: \"datestart\",\n      id: \"datestart\",\n      className: \"datestart\",\n      onChange: this.handleInputChange,\n      value: this.state.datestart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(Label, {\n      xs: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(LabelInput, {\n      type: \"color\",\n      name: \"color\",\n      id: \"color\",\n      className: \"color btn\",\n      onChange: this.handleInputChange,\n      color: this.state.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Label, {\n      xs: \"6\",\n      id: \"repeat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Repeat\"), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      checked: this.state.checked,\n      onChange: this.checkAll,\n      offColor: \"#9B9B9B\",\n      onColor: \"#F15A27\",\n      uncheckedIcon: true,\n      checkedIcon: true,\n      height: 16,\n      width: 27,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(Label, {\n      xs: \"6\",\n      id: \"allday\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"All Day\")), React.createElement(ButtonGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"infor\",\n      className: \"day-button\",\n      onClick: () => this.onCheckboxBtnClick(2),\n      active: this.state.cSelected.includes(2),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Mon\"), React.createElement(Button, {\n      color: \"infor\",\n      className: \"day-button\",\n      onClick: () => this.onCheckboxBtnClick(3),\n      active: this.state.cSelected.includes(3),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Tue\"), React.createElement(Button, {\n      color: \"infor\",\n      className: \"day-button\",\n      onClick: () => this.onCheckboxBtnClick(4),\n      active: this.state.cSelected.includes(4),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Wed\"), React.createElement(Button, {\n      color: \"infor\",\n      className: \"day-button\",\n      onClick: () => this.onCheckboxBtnClick(5),\n      active: this.state.cSelected.includes(5),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Thur\"), React.createElement(Button, {\n      color: \"infor\",\n      className: \"day-button\",\n      onClick: () => this.onCheckboxBtnClick(6),\n      active: this.state.cSelected.includes(6),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Fri\"), React.createElement(Button, {\n      color: \"infor\",\n      className: \"day-button\",\n      onClick: () => this.onCheckboxBtnClick(7),\n      active: this.state.cSelected.includes(7),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Sat\"), React.createElement(Button, {\n      color: \"infor\",\n      className: \"day-button\",\n      onClick: () => this.onCheckboxBtnClick(8),\n      active: this.state.cSelected.includes(8),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Sun\"))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(Label, {\n      xs: \"6\",\n      for: \"\",\n      id: \"end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"End\"), React.createElement(Label, {\n      xs: \"6\",\n      for: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }), React.createElement(Label, {\n      xs: \"6\",\n      for: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"On:\"), React.createElement(Label, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(LabelInput, {\n      type: \"date\",\n      name: \"datefinish\",\n      id: \"datefinish\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(Label, {\n      xs: \"6\",\n      for: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"After:\"), React.createElement(Label, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(LabelInput, {\n      type: \"text\",\n      id: \"dateafter\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(Alert, {\n      color: this.state.colorError,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, this.state.message)))), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.onCloseHandler,\n      id: \"cancel-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"CANCEL\"), \" \", React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.submitHabit,\n      id: \"finish-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"FINISH\")));\n  }\n\n}\n\nexport default NewHabit;","map":{"version":3,"sources":["/home/duynguyen/store/seinfeld-calendar-fe/src/Component/Header-Menu/NewHabit/NewHabit.js"],"names":["React","Component","moment","Switch","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","ButtonGroup","Button","Alert","LabelInput","Axios","NewHabit","constructor","props","state","onClose","date","Date","cSelected","name","slogan","datestart","datefinish","after","color","message","colorError","checked","onCloseHandler","bind","onCheckboxBtnClick","submitHabit","handleInputChange","checkAll","validateDay","event","target","value","setState","currentDay","startDay","endDay","format","toString","object","idUser","localStorage","getItem","timeBegin","timeEnd","repeat","post","headers","then","response","data","closeform","catch","selected","index","indexOf","push","splice","length","render","showform","includes"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./NewHabit.css\";\nimport moment from \"moment\";\nimport Switch from \"react-switch\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, ButtonGroup, Button, Alert } from \"reactstrap\";\nimport LabelInput from \"../../Labelnput/LabelInput\";\nimport Axios from \"axios\";\n\nclass NewHabit extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            onClose: false,\n            date: new Date(),\n            cSelected: [],\n            name: \"\",\n            slogan: \"\",\n            datestart: \"\",\n            datefinish: \"\",\n            after: \"\",\n            color: \"\",\n            message: \"\",\n            colorError: \"\",\n            checked: false\n        };\n        this.onCloseHandler = this.onCloseHandler.bind(this);\n        this.onCheckboxBtnClick = this.onCheckboxBtnClick.bind(this);\n        this.submitHabit = this.submitHabit.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.checkAll = this.checkAll.bind(this);\n        this.validateDay = this.validateDay.bind(this);\n    };\n    handleInputChange (event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        this.setState({\n            [name]: value\n        });\n    }\n    validateDay () {\n        const currentDay = new Date();\n        const startDay = new Date(this.state.datestart);\n        const endDay = new Date(this.state.datefinish);\n        if (moment(startDay).format(\"L\").toString() < moment(currentDay).format(\"L\").toString()) {\n            return false;\n        }\n        if (moment(endDay).format(\"L\").toString() < moment(startDay).format(\"L\").toString()) {\n            return false;\n        }\n        return true;\n    };\n    submitHabit () {\n        if (!this.validateDay()) {\n            this.setState({\n                colorError: \"danger\",\n                message: \"Timestart must be current day or a day in future\"\n            });\n            return;\n        }\n\n        let object = {\n            idUser: localStorage.getItem(\"Token\"),\n            name: this.state.name,\n            slogan: this.state.slogan,\n            timeBegin: this.state.datestart,\n            timeEnd: this.state.datefinish,\n            after: this.state.after,\n            repeat: this.state.cSelected,\n            color: this.state.color\n        };\n        Axios.post(\"http://localhost:3005/habit/create\", object, { headers: { \"Authorization\": `Bearer ${localStorage.getItem(\"Token\")}` } })\n            .then(response => {\n                this.setState({\n                    colorError: \"primary\",\n                    message: response.data.message\n                });\n                this.props.closeform(this.state.onClose);\n            })\n            .catch(() => {\n                this.setState({\n                    colorError: \"danger\",\n                    message: \"Sign up Fail !\"\n                });\n            });\n    }\n    onCheckboxBtnClick (selected) {\n        const index = this.state.cSelected.indexOf(selected);\n        if (index < 0) {\n            this.state.cSelected.push(selected);\n        } else {\n            this.state.cSelected.splice(index, 1);\n        }\n        this.setState({ cSelected: [...this.state.cSelected] });\n        if (this.state.cSelected.length === 7) {\n            this.setState({\n                checked: true\n            });\n        } else {\n            this.setState({\n                checked: false\n            });\n        }\n    }\n    onCloseHandler () {\n        this.props.closeform(this.state.onClose);\n    }\n    checkAll (checked) {\n        this.setState({\n            checked\n        });\n        if (checked) {\n            this.setState({\n                cSelected: [2, 3, 4, 5, 6, 7, 8]\n            });\n        } else {\n            this.setState({ cSelected: [] });\n        }\n    }\n    render () {\n        return (\n            <Modal isOpen={this.props.showform} >\n                <ModalHeader id=\"create\">CREATE NEW HABIT</ModalHeader>\n                <ModalBody>\n                    <Form className=\"myform\">\n                        <FormGroup>\n                            <LabelInput\n                                label=\"Name\"\n                                type=\"text\"\n                                id=\"name\"\n                                name=\"name\"\n                                onChange={this.handleInputChange}\n                            />\n                            <LabelInput\n                                label=\"Slogan\"\n                                type=\"text\"\n                                id=\"slogan\"\n                                name=\"slogan\"\n                                onChange={this.handleInputChange}\n                                value={this.state.slogan}\n\n                            />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label xs=\"6\" id=\"start\">Start Day</Label>\n                            <Label xs=\"6\" id=\"color-label\">Color</Label>\n                            <Label xs=\"6\">\n                                <LabelInput\n                                    type=\"date\"\n                                    name=\"datestart\"\n                                    id=\"datestart\"\n                                    className=\"datestart\"\n                                    onChange={this.handleInputChange}\n                                    value={this.state.datestart}\n                                />\n                            </Label>\n                            <Label xs=\"2\" >\n                                <LabelInput\n                                    type=\"color\"\n                                    name=\"color\"\n                                    id=\"color\"\n                                    className=\"color btn\"\n                                    onChange={this.handleInputChange}\n                                    color={this.state.color}\n                                />\n                            </Label>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label xs=\"6\" id=\"repeat\">Repeat</Label>\n                            <FormGroup>\n                                <Switch\n                                    checked={this.state.checked}\n                                    onChange={this.checkAll}\n                                    offColor=\"#9B9B9B\"\n                                    onColor=\"#F15A27\"\n                                    uncheckedIcon\n                                    checkedIcon\n                                    height={16}\n                                    width={27}\n\n                                />\n                                <Label xs=\"6\" id=\"allday\">All Day</Label>\n                            </FormGroup>\n                            <ButtonGroup>\n                                <Button\n                                    color=\"infor\"\n                                    className=\"day-button\"\n                                    onClick={() => this.onCheckboxBtnClick(2)}\n                                    active={this.state.cSelected.includes(2)}\n                                >Mon\n                                </Button>\n                                <Button\n                                    color=\"infor\"\n                                    className=\"day-button\"\n                                    onClick={() => this.onCheckboxBtnClick(3)}\n                                    active={this.state.cSelected.includes(3)}\n                                >Tue\n                                </Button>\n                                <Button\n                                    color=\"infor\"\n                                    className=\"day-button\"\n                                    onClick={() => this.onCheckboxBtnClick(4)}\n                                    active={this.state.cSelected.includes(4)}\n                                >Wed\n                                </Button>\n                                <Button\n                                    color=\"infor\"\n                                    className=\"day-button\"\n                                    onClick={() => this.onCheckboxBtnClick(5)}\n                                    active={this.state.cSelected.includes(5)}\n                                >Thur\n                                </Button>\n                                <Button\n                                    color=\"infor\"\n                                    className=\"day-button\"\n                                    onClick={() => this.onCheckboxBtnClick(6)}\n                                    active={this.state.cSelected.includes(6)\n                                    }>\n                                    Fri\n                                </Button>\n                                <Button\n                                    color=\"infor\"\n                                    className=\"day-button\"\n                                    onClick={() => this.onCheckboxBtnClick(7)}\n                                    active={this.state.cSelected.includes(7)}\n                                >Sat\n                                </Button>\n                                <Button\n                                    color=\"infor\"\n                                    className=\"day-button\"\n                                    onClick={() => this.onCheckboxBtnClick(8)}\n                                    active={this.state.cSelected.includes(8)\n                                    }>Sun\n                                </Button>\n                            </ButtonGroup>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label xs=\"6\" for=\"\" id=\"end\">End</Label>\n                            <Label xs=\"6\" for=\"\" />\n                            <Label xs=\"6\" for=\"\">On:</Label>\n                            <Label xs=\"6\">\n                                <LabelInput\n                                    type=\"date\"\n                                    name=\"datefinish\"\n                                    id=\"datefinish\"\n                                    onChange={this.handleInputChange}\n                                />\n                            </Label>\n                            <Label xs=\"6\" for=\"\">After:</Label>\n                            <Label xs=\"6\">\n                                <LabelInput\n                                    type=\"text\"\n                                    id=\"dateafter\"\n                                    onChange={this.handleInputChange}\n                                />\n                            </Label>\n                        </FormGroup>\n                        <FormGroup>\n                            <Alert color={this.state.colorError}>{this.state.message}</Alert>\n                        </FormGroup>\n                    </Form>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"secondary\" onClick={this.onCloseHandler} id=\"cancel-button\" >CANCEL</Button>{\" \"}\n                    <Button color=\"primary\" onClick={this.submitHabit} id=\"finish-button\">FINISH</Button>\n                </ModalFooter>\n            </Modal>\n\n        );\n    }\n}\n\nexport default NewHabit;\n"]},"metadata":{},"sourceType":"module"}